{% extends 'myCSSAhub/component/_layout.html' %}
{% block pageContent %}
<div class="col-lg-12">
  <div class="card">
    <div class="card-header">
      <i class="fa fa-align-justify"></i> 账户流水
    </div>
    <div class="card-body">
      <table class="table table-responsive-sm">
        <thead>
          <tr>
            <th>ID</th>
            <th>时间</th>
            <th>交易类型</th>
            <th>收入/支出</th>
            <th>金额</th>
            <th>交易状态</th>
          </tr>
        </thead>
        <tbody>
        {% if transaction_list %}
                {% for transaction in transaction_list %}
                <tr>
                    <td>
                        <a href="{{ transaction.get_absolute_url }}">{{ transaction.id }}</a> 
                    </td>
                    <td>
                        {{ transaction.time }}
                    </td>
                    <td>
                        {{ transaction.transaction_type }}
                    </td>
                    <td>
                        {% if transaction.is_expense %}
                            支出
                        {% else %}
                            收入
                        {% endif %}
                    </td>
                    <td>
                        AUD ${{ transaction.amount }}
                    </td>
                    <td>
                        {% if transaction.is_effective %}
                            <span class="badge badge-success">已核验</span>
                        {% else %}
                            <span class="badge badge-warning">未核验</span>
                        {% endif %}
                    </td>
                {% endfor %}
                </tr>
            </tr>
            {% else %}
                <p>There are no transaction in the system.</p>
            {% endif %}   
        </tbody>
      </table>
      <ul class="pagination">
        {% if transaction_list.has_previous %}
            <li class="page-item"><a class="page-link" href="?page=1">First</a></li>
            <li class="page-item"><a class="page-link" href="?page={{ transaction_list.previous_page_number }}">Prev</a></li>
        {% endif %}
        {% for i in transaction_list.paginator.page_range %}
            {% if transaction_list.number == i %}
                <li class="page-item active"><span>{{ i }}<span class="sr-only">(current)</span></span></li>
            {% else %}
                <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
            {% endif %}
        {% endfor %}
        {% if transaction_list.has_next %}
            <li class="page-item"><a class="page-link" href="?page={{ transaction_list.next_page_number }}">&raquo;</a></li>
        {% else %}
            <li class="disabled"><span>&raquo;</span></li>
        {% endif %}
      </ul>
    </div>
  </div>
</div>

{% endblock %}
